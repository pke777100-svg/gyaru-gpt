<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>Charisma GPT</title>

<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:-apple-system;}
html,body{height:100%;background:#000;color:#e5e7eb;overflow:hidden;}

#app{height:100%;display:flex;flex-direction:column;}
#header{
  height:52px;
  padding:0 14px;
  display:flex;
  align-items:center;
  background:#0b0b0b;
  border-bottom:1px solid #222;
  font-weight:600;
}

#chat{
  flex:1;
  overflow-y:auto;
  padding:14px;
  scroll-behavior:smooth;
}

.msg{
  max-width:80%;
  padding:12px 14px;
  margin-bottom:10px;
  border-radius:18px;
  line-height:1.5;
  animation:pop .25s ease-out;
}
.user{
  margin-left:auto;
  background:#2563eb;
  color:#fff;
  border-bottom-right-radius:6px;
}
.ai{
  background:#1f2937;
  border-bottom-left-radius:6px;
}

@keyframes pop{
  from{transform:scale(.96);opacity:.3}
  to{transform:scale(1);opacity:1}
}

/* å…¥åŠ›æ¬„ */
#inputBar{
  padding:10px;
  background:#0b0b0b;
  border-top:1px solid #222;
}
#inputWrap{
  display:flex;
  gap:8px;
}
#input{
  flex:1;
  padding:14px;
  border-radius:18px;
  border:none;
  outline:none;
  font-size:16px;
}
#send{
  padding:0 16px;
  border-radius:18px;
  border:none;
  background:#2563eb;
  color:#fff;
  font-weight:600;
}

/* iPhone Safari ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å¯¾ç­– */
:focus-within{
  scroll-margin-bottom:120px;
}
</style>
</head>

<body>
<div id="app">
  <div id="header">ğŸ¤– Charisma GPT</div>

  <div id="chat"></div>

  <div id="inputBar">
    <div id="inputWrap">
      <input id="input" placeholder="èããŸã„ã“ã¨ã‚’æ›¸ã‘" />
      <button id="send">â¤</button>
    </div>
  </div>
</div>

<script>
const chat = document.getElementById("chat");
const input = document.getElementById("input");
const sendBtn = document.getElementById("send");

/* === Charisma å®‰å®šã‚³ã‚¢ === */
function charismaReply(text){
  const t = text.toLowerCase();

  if(t.includes("ä½•ãŒã§ã")){
    return "ä¿ºã¯ç­”ãˆã‚’å‡ºã™ãŸã‚ã®å­˜åœ¨ã˜ã‚ƒãªã„ã€‚\né¸æŠè‚¢ã¨è¦–ç‚¹ã‚’å¢—ã‚„ã™ã€‚\nè€ƒãˆã‚’é‹­ãã—ã€åˆ¤æ–­ã‚’æ—©ãã™ã‚‹ã€‚\nâ”€â”€ãã‚ŒãŒCharismaã€‚";
  }
  if(t.includes("ã¯ã„") || t.includes("ãˆ")){
    return "èãè¿”ã™å‰ã«è€ƒãˆã‚ã€‚\nãã®ä¸€ç¬ã«æœ¬éŸ³ãŒå‡ºã‚‹ã€‚";
  }
  if(t.length < 4){
    return "è¨€è‘‰ãŒçŸ­ã„æ™‚ã»ã©ã€æ„å›³ã¯æ·±ã„ã€‚\nç¶šã‘ã‚ã€‚";
  }

  return "é¢ç™½ã„å•ã„ã‚„ã€‚\nç­”ãˆã¯ä¸€ã¤ã˜ã‚ƒãªã„ã€‚\nã©ã“ã¾ã§è¸ã¿è¾¼ã‚€ï¼Ÿ";
}

function addMsg(text,cls){
  const d=document.createElement("div");
  d.className="msg "+cls;
  d.textContent=text;
  chat.appendChild(d);
  chat.scrollTop=chat.scrollHeight;
}

function send(){
  const text=input.value.trim();
  if(!text) return;
  input.value="";
  addMsg(text,"user");

  setTimeout(()=>{
    const reply = charismaReply(text);
    addMsg(reply,"ai");
  },300);
}

sendBtn.onclick=send;
input.addEventListener("keydown",e=>{
  if(e.key==="Enter") send();
});

/* åˆæœŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */
setTimeout(()=>{
  addMsg("é™ã‹ã«å§‹ã‚ã‚ˆã†ã€‚\nè³ªå•ã¯ã‚‚ã†é ­ã«ã‚ã‚‹ã¯ãšã ã€‚","ai");
},300);
</script>
</body>
</html>